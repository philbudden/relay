---
# samba role handlers

- name: reload systemd
  ansible.builtin.systemd:
    daemon_reload: true

- name: restart samba
  ansible.builtin.systemd:
    name: "{{ samba_systemd_unit }}"
    state: restarted
  when:
    - ansible_facts.services is defined
    - samba_systemd_unit in ansible_facts.services
    - samba_service_restart_enabled | default(true)
